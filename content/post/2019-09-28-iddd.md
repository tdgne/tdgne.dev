---
title:       "IDDDを4章あたりまで読んでわかったこと・わからなかったこと"
date:        2019-09-28
categories:  ["diary"]
showtoc: false
---

[Evans本](https://www.amazon.co.jp/dp/4798121967/ref=cm_sw_r_tw_dp_U_x_e21JDbB8PWDXF)で打ちひしがれ、[VernonのIDDD(実践ドメイン駆動設計)](https://www.amazon.co.jp/dp/B00UX9VJGW/ref=cm_sw_r_tw_dp_U_x_o31JDb1TNH841)をとりあえず4章まで読んでみた人間の記録です。

# ドメイン、サブドメイン、境界づけられたコンテキスト

 **ドメイン**とは、事業全体のことで、たとえばEコマースとかである。
 **サブドメイン**とは、ドメインの部分で、たとえば注文とか発送とかである。

 DDDではとにかくチーム内で通用する言語を大事にし、技術者とドメインエキスパートからなるチームで普遍的に使われる言語のことを**ユビキタス言語**という。
 ドメインのうち、あるユビキタス言語が通用する領域のことを**境界づけられたコンテキスト(bounded context)**という。

 ドメインの部分として、サブドメインと境界づけられたコンテキストの2つが出てきた。
 ドメインの**問題空間**における部分はサブドメインで、**解決空間**における部分は境界づけられたコンテキストだといえる。
 サブドメインと境界づけられたコンテキストは一対一に対応していることが望ましい。

# コンテキストマップ

んにゃぴ

複数の境界づけられたコンテキスト間を線でつないだ図。線の両端にはUとDを書いて、上流・下流の区別をつけておく。
こうあってほしいという願望を描くのではなく、あくまで現状を表す地図として描く。

# アーキテクチャ

DDD自体は特定のアーキテクチャに依存するものではない。

本書ではEvans本で扱われたレイヤードアーキテクチャとその改良に触れている。

レイヤードアーキテクチャはあらゆるアーキテクチャの祖とみなす人がいるらしい。

依存がUI → ドメインモデル → インフラと流れるレイヤードアーキテクチャに、DIによってドメインモデルを中心とした対称性を持ち込んだのがヘキサゴナルアーキテクチャで、真ん中にドメインモデルがあってそこから放射状に、UIやインフラといったより具体的なものが広がっていく。

あと、CQRSとかRESTとかの話が出てくる。

# 雑感

 * DDDには戦略的モデリングと戦術的モデリングが存在し、4章までは主に戦略的モデリングに関する話だったっぽい。
 * DDDは、MVCみたいなソフトウェアアーキテクチャや読んだらすぐ使える設計のテクニックみたいなものではなかった。
 どちらかというとアジャイル開発みたいな、チームでの仕事の進め方系の話が中核を占めているようだった(なので、趣味の個人開発とかにはあまり活用できなさそう...?)。
 * 正直、アーキテクチャの章におけるDDD要素がわからなかった。
 * コンテキストマップは組織での開発には重要なんだろう。
 * 4章まで流し読みした率直な感想として、人に「DDDって何すか」って聞かれたら、まだ何て答えればいいのかわからない。流し読みじゃいかんのだろうか。
 * アーキテクチャの話は、本書を読んでから[この記事](https://qiita.com/little_hand_s/items/ebb4284afeea0e8cc752)を読んだら色々整理できた気がする。
